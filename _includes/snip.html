<div class="highlight"><pre><span></span><span class="err">#</span> <span class="o">-*-</span> <span class="n">coding</span><span class="o">:</span> <span class="n">utf</span><span class="o">-</span><span class="mi">8</span> <span class="o">-*-</span>
<span class="s">&quot;&quot;&quot;</span>
<span class="s">    Basic JavaLexer Test</span>
<span class="s">    ~~~~~~~~~~~~~~~~~~~~</span>

<span class="s">    :copyright: Copyright 2006-2017 by the Pygments team, see AUTHORS.</span>
<span class="s">    :license: BSD, see LICENSE for details.</span>
<span class="s">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">unittest</span>

<span class="n">from</span> <span class="n">pygments</span><span class="o">.</span><span class="na">token</span> <span class="kn">import</span> <span class="nn">Text</span><span class="o">,</span> <span class="n">Name</span><span class="o">,</span> <span class="n">Operator</span><span class="o">,</span> <span class="n">Keyword</span><span class="o">,</span> <span class="n">Number</span>
<span class="n">from</span> <span class="n">pygments</span><span class="o">.</span><span class="na">lexers</span> <span class="kn">import</span> <span class="nn">JavaLexer</span>


<span class="kd">class</span> <span class="nf">JavaTest</span><span class="o">(</span><span class="n">unittest</span><span class="o">.</span><span class="na">TestCase</span><span class="o">):</span>

    <span class="n">def</span> <span class="nf">setUp</span><span class="o">(</span><span class="n">self</span><span class="o">):</span>
        <span class="n">self</span><span class="o">.</span><span class="na">lexer</span> <span class="o">=</span> <span class="n">JavaLexer</span><span class="o">()</span>
        <span class="n">self</span><span class="o">.</span><span class="na">maxDiff</span> <span class="o">=</span> <span class="n">None</span>

    <span class="n">def</span> <span class="nf">testEnhancedFor</span><span class="o">(</span><span class="n">self</span><span class="o">):</span>
        <span class="n">fragment</span> <span class="o">=</span> <span class="n">u</span><span class="err">&#39;</span><span class="n">label</span><span class="o">:</span><span class="err">\</span><span class="n">nfor</span><span class="o">(</span><span class="n">String</span> <span class="n">var2</span><span class="o">:</span> <span class="n">var1</span><span class="o">)</span> <span class="o">{}</span><span class="err">\</span><span class="n">n</span><span class="err">&#39;</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="o">[</span>
            <span class="o">(</span><span class="n">Name</span><span class="o">.</span><span class="na">Label</span><span class="o">,</span> <span class="n">u</span><span class="err">&#39;</span><span class="n">label</span><span class="o">:</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="n">u</span><span class="sc">&#39;\n&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Keyword</span><span class="o">,</span> <span class="n">u</span><span class="err">&#39;</span><span class="k">for</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Operator</span><span class="o">,</span> <span class="n">u</span><span class="sc">&#39;(&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Name</span><span class="o">,</span> <span class="n">u</span><span class="err">&#39;</span><span class="n">String</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="n">u</span><span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Name</span><span class="o">,</span> <span class="n">u</span><span class="err">&#39;</span><span class="n">var2</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Operator</span><span class="o">,</span> <span class="n">u</span><span class="sc">&#39;:&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="n">u</span><span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Name</span><span class="o">,</span> <span class="n">u</span><span class="err">&#39;</span><span class="n">var1</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Operator</span><span class="o">,</span> <span class="n">u</span><span class="sc">&#39;)&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="n">u</span><span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Operator</span><span class="o">,</span> <span class="n">u</span><span class="sc">&#39;{&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Operator</span><span class="o">,</span> <span class="n">u</span><span class="sc">&#39;}&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="n">u</span><span class="sc">&#39;\n&#39;</span><span class="o">),</span>
        <span class="o">]</span>
        <span class="n">self</span><span class="o">.</span><span class="na">assertEqual</span><span class="o">(</span><span class="n">tokens</span><span class="o">,</span> <span class="n">list</span><span class="o">(</span><span class="n">self</span><span class="o">.</span><span class="na">lexer</span><span class="o">.</span><span class="na">get_tokens</span><span class="o">(</span><span class="n">fragment</span><span class="o">)))</span>

    <span class="n">def</span> <span class="nf">testNumericLiterals</span><span class="o">(</span><span class="n">self</span><span class="o">):</span>
        <span class="n">fragment</span> <span class="o">=</span> <span class="err">&#39;</span><span class="mi">0</span> <span class="mi">5L</span> <span class="mi">9__542_72l</span> <span class="mh">0xbEEf</span> <span class="mh">0X9_A</span> <span class="mo">0_35</span> <span class="mo">01</span> <span class="mb">0b0___101_0</span><span class="err">&#39;</span>
        <span class="n">fragment</span> <span class="o">+=</span> <span class="err">&#39;</span> <span class="mf">0.</span> <span class="mf">.7_17F</span> <span class="mf">3e-1_3d</span> <span class="mf">1f</span> <span class="mf">6_01.9e+3</span> <span class="mf">0x.1Fp3</span> <span class="mf">0XEP8D</span><span class="err">\</span><span class="n">n</span><span class="err">&#39;</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="o">[</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Integer</span><span class="o">,</span> <span class="sc">&#39;0&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Integer</span><span class="o">,</span> <span class="err">&#39;</span><span class="mi">5L</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Integer</span><span class="o">,</span> <span class="err">&#39;</span><span class="mi">9__542_72l</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Hex</span><span class="o">,</span> <span class="err">&#39;</span><span class="mh">0xbEEf</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Hex</span><span class="o">,</span> <span class="err">&#39;</span><span class="mh">0X9_A</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Oct</span><span class="o">,</span> <span class="err">&#39;</span><span class="mo">0_35</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Oct</span><span class="o">,</span> <span class="err">&#39;</span><span class="mo">01</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Bin</span><span class="o">,</span> <span class="err">&#39;</span><span class="mb">0b0___101_0</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Float</span><span class="o">,</span> <span class="err">&#39;</span><span class="mf">0.</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Float</span><span class="o">,</span> <span class="err">&#39;</span><span class="mf">.7_17F</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Float</span><span class="o">,</span> <span class="err">&#39;</span><span class="mf">3e-1_3d</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Float</span><span class="o">,</span> <span class="err">&#39;</span><span class="mf">1f</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Float</span><span class="o">,</span> <span class="err">&#39;</span><span class="mf">6_01.9e+3</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Float</span><span class="o">,</span> <span class="err">&#39;</span><span class="mf">0x.1Fp3</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39; &#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">Float</span><span class="o">,</span> <span class="err">&#39;</span><span class="mf">0XEP8D</span><span class="err">&#39;</span><span class="o">),</span>
            <span class="o">(</span><span class="n">Text</span><span class="o">,</span> <span class="sc">&#39;\n&#39;</span><span class="o">)</span>
        <span class="o">]</span>
        <span class="n">self</span><span class="o">.</span><span class="na">assertEqual</span><span class="o">(</span><span class="n">tokens</span><span class="o">,</span> <span class="n">list</span><span class="o">(</span><span class="n">self</span><span class="o">.</span><span class="na">lexer</span><span class="o">.</span><span class="na">get_tokens</span><span class="o">(</span><span class="n">fragment</span><span class="o">)))</span>
</pre></div>
